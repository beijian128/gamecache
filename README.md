# gamecache - 带进程内缓存的 ORM 封装

基于 `gcache` 和 `gorm` 实现的智能缓存层，自动管理数据库同步。对调用方透明，读写操作都在缓存中进行，数据库操作自动处理。

## 特性

- **自动缓存加载**：缓存未命中时自动从数据库加载
- **脏数据跟踪**：自动检测对象变更并同步到数据库
- **透明化操作**：直接操作结构体即可，无需手动调用更新方法
- **类型安全**：强类型结构体支持

## 快速开始

### 定义模型
```go
type User struct {
    ID   uint   `gorm:"primaryKey"`
    Name string 
    Age  int
}
```

基本用法
go
// 初始化
cache := NewGameCache(db /* gorm.DB */, 10*time.Minute /* 缓存有效期 */)

// 读取数据（自动加载）
user, _ := cache.Get(1) // 如果缓存不存在，会自动从数据库加载
u := user.(*User)

// 更新数据
u.Name = "李四" // 修改会自动标记为脏数据

// 稍后会自动同步到数据库...
// 最终数据库记录变为 {1, "李四", 19}
工作原理
​​读取流程​​：
检查缓存是否存在
不存在时从数据库加载并缓存
返回缓存对象的引用
​​写入流程​​：
直接修改返回的结构体字段
系统自动跟踪字段变更
在缓存淘汰时将脏数据写回数据库
 